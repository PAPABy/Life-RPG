<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Life RPG</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  background:#0b0f1a;
  color:white;
  font-family:Arial, sans-serif;
  padding:20px;
}

.card {
  background:#11162a;
  border-radius:24px;
  padding:20px;
  max-width:480px;
  margin:auto;
}

.avatar {
  width:90px;
  height:90px;
  border-radius:50%;
  margin:10px auto;
  background:linear-gradient(135deg,#00ffcc,#0066ff);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:40px;
}

h1 { text-align:center; }

.rank {
  text-align:center;
  margin-bottom:10px;
  color:#00ffcc;
}

.exp-bar {
  height:14px;
  background:#1f2440;
  border-radius:10px;
  overflow:hidden;
  margin-bottom:6px;
}

.exp-fill {
  height:100%;
  background:linear-gradient(90deg,#ffd700,#ff9f00);
  width:0%;
  transition:.3s;
}

.level {
  text-align:center;
  font-size:14px;
  margin-bottom:20px;
}

.quest {
  background:#1a1f3c;
  padding:12px;
  border-radius:14px;
  margin-bottom:10px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.quest button {
  background:#00ffcc;
  border:none;
  border-radius:8px;
  padding:6px 10px;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="card">
  <div class="avatar">ðŸ§™</div>
  <h1>Life RPG</h1>
  <div class="rank" id="rankText">RANK: NOVICE</div>

  <div class="exp-bar">
    <div class="exp-fill" id="expFill"></div>
  </div>
  <div class="level" id="levelText">Level 1 â€¢ EXP 0 / 100</div>

  <h3>Daily Quests</h3>
  <div id="quests"></div>
</div>

<script>
const STORAGE_KEY = "life_rpg_game";

const quests = [
  { id:"discipline", text:"Discipline Task (+10 EXP)" },
  { id:"physical", text:"Physical Activity (+10 EXP)" },
  { id:"mental", text:"Mental Care (+10 EXP)" },
  { id:"social", text:"Social Interaction (+10 EXP)" }
];

let game = {
  level: 1,
  exp: 0,
  expMax: 100,
  completed: {},
  lastDay: new Date().toDateString()
};

const saved = localStorage.getItem(STORAGE_KEY);
if(saved) game = JSON.parse(saved);

function save() {
  localStorage.setItem(STORAGE_KEY, JSON.stringify(game));
}

function levelUp() {
  game.level++;
  game.exp = 0;
  game.expMax = Math.floor(game.expMax * 1.2);
}

function updateUI() {
  document.getElementById("rankText").innerText =
    game.level >= 10 ? "RANK: MASTER" :
    game.level >= 6 ? "RANK: WARRIOR" :
    game.level >= 3 ? "RANK: APPRENTICE" : "RANK: NOVICE";

  document.getElementById("levelText").innerText =
    `Level ${game.level} â€¢ EXP ${game.exp} / ${game.expMax}`;

  document.getElementById("expFill").style.width =
    (game.exp / game.expMax * 100) + "%";
}

function checkDayReset() {
  const today = new Date().toDateString();
  if(game.lastDay !== today) {
    game.completed = {};
    game.lastDay = today;
    save();
  }
}

function completeQuest(id) {
  if(game.completed[id]) return;
  game.completed[id] = true;
  game.exp += 10;

  if(game.exp >= game.expMax) levelUp();

  save();
  renderQuests();
  updateUI();
}

function renderQuests() {
  const box = document.getElementById("quests");
  box.innerHTML = "";

  quests.forEach(q => {
    const done = game.completed[q.id];
    const div = document.createElement("div");
    div.className = "quest";
    div.innerHTML = `
      <span>${q.text}</span>
      <button ${done ? "disabled" : ""}>
        ${done ? "âœ“" : "Done"}
      </button>
    `;
    div.querySelector("button").onclick = () => completeQuest(q.id);
    box.appendChild(div);
  });
}

// INIT
checkDayReset();
renderQuests();
updateUI();
save();
</script>

</body>
</html>
